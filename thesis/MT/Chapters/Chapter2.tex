\chapter{Background and Related Research}
\label{ch:background}

% This chapter surveys existing research and practical knowledge about server-level
% energy measurement, hardware and software telemetry sources, and attribution tools.
% It provides the empirical and factual basis for the conceptual foundations in
% Chapter~\ref{ch:concepts}. This chapter MUST NOT contain Tycho design decisions,
% conceptual attribution models, or implementation details.

%====================================================================
\section{Scope and Purpose}
\label{sec:background_scope}

% Placeholder (0.5 page):
% - Clearly state that Chapter 2 summarises existing research and industrial knowledge
%   on energy measurement in modern servers.
% - Emphasise that this chapter reports *what is known* about telemetry sources,
%   measurement techniques, and existing tools.
% - Do NOT discuss conceptual attribution principles (reserved for Chapter 3).
% - Do NOT describe Tycho, its architecture, or its methodology.
% - Refer to VT2 in the appendix for extended details, stating that this chapter
%   integrates only the essential findings needed for this thesis.

%====================================================================
\section{Energy Measurement in Modern Server Systems}
\label{sec:energy_measurement_systems}

%--------------------------------------------------------------------
\subsection{Energy Attribution in Multi-Tenant Environments}
\label{subsec:attribution_context}

% Placeholder (0.5 page):
% - Summarise research identifying attribution difficulty in multi-tenant systems.
% - Describe ephemeral workloads, resource interference, and mixed hardware domains 
%   as reported in literature.
% - DO include empirical or literature-reported challenges.
% - DO NOT include conceptual explanations of attribution principles (Chapter 3).
% - Keep the focus on research findings, not concepts.

%--------------------------------------------------------------------
\subsection{Telemetry Layers in Contemporary Architectures}
\label{subsec:telemetry_layers}

% Placeholder (0.5 page):
% - Describe the distinction between in-band (OS-exposed) and out-of-band (BMC/Redfish)
%   telemetry as documented in research.
% - Emphasise heterogeneity of sampling intervals, accuracy, and coverage.
% - DO NOT introduce conceptual timing models, sampling theory, or clock behaviour 
%   (Chapter 3).
% - Only refer to literature-characterised properties of telemetry layers.

%--------------------------------------------------------------------
\subsection{Challenges for Container-Level Measurement}
\label{subsec:container_challenges}

% Placeholder (0.5–1.0 page):
% - Summarise research identifying lifecycle churn, cgroup volatility,
%   Kubernetes metadata delays, and inconsistencies across runtime layers.
% - Cite only empirical research and known issues from literature.
% - DO NOT introduce conceptual lifecycle models or semantics (Chapter 3).
% - DO NOT mention Tycho's solutions or design impacts.

%====================================================================
\section{Hardware and Software Telemetry Sources}
\label{sec:measurement_techniques}
\appchapterref{A}{vt2_Chapter2} provides a detailed analysis of this topic; the present section summarizes the key research findings.

% This is one of the main sections (3–4 pages).
% It must describe WHAT telemetry exists and WHAT research says about it.
% It must NOT explain conceptual interpretations of these sources (Chapter 3).

%--------------------------------------------------------------------
\subsection{Direct Hardware Measurement}
\label{subsec:direct_measurement}

% Placeholder (0.3 page):
% - Summarise research on physical instrumentation (power meters, shunts).
% - Emphasise commissioning cost, impracticality, and limited real-world use.
% - DO NOT go into electrical engineering detail or conceptual attribution.
% - Keep concise.

%--------------------------------------------------------------------
\subsection{Legacy Telemetry Interfaces (ACPI, IPMI)}
\label{subsec:legacy_telemetry}

% Placeholder (0.3 page):
% - Explain that ACPI only reports states, not power values.
% - Mention IPMI as predecessor to Redfish.
% - DO NOT describe ACPI concepts such as C/P states (Chapter 3).
% - Keep strictly factual and empirical.

%--------------------------------------------------------------------
\subsection{Redfish Power Telemetry}
\label{subsec:redfish}

% Placeholder (1 page):
% - Describe Redfish power reporting based on literature:
%   update intervals, precision, multi-second staleness.
% - Discuss vendor variability and research findings on accuracy.
% - Describe strengths: reliable whole-node power.
% - Describe limitations: insufficient granularity for short workloads.
% - DO NOT describe conceptual use of external telemetry (Chapter 3).
% - DO NOT mention Tycho's polling model.

%--------------------------------------------------------------------
\subsection{RAPL Power Domains}
\label{subsec:rapl}

% Placeholder (1.5–2.0 pages):
% - Describe RAPL domains as reported in research:
%   package, core, uncore, DRAM (and AMD’s reduced support).
% - Summarise validation studies (accuracy, limitations).
% - Discuss research observations about domain ambiguity and idle-state issues.
% - Mention access mechanisms (MSR, powercap) only at high level.
% - DO NOT describe conceptual domain meaning or attribution implications 
%   (Chapter 3).
% - DO NOT discuss sampling theory or timing behaviour (Chapter 3).

%--------------------------------------------------------------------
\subsection{GPU Telemetry (NVML)}
\label{subsec:nvml}

% Placeholder (1–1.5 pages):
% - Describe NVML power/usage metrics, internal averaging, sampling delays.
% - Summarise research on accuracy and limitations, including MIG ambiguity.
% - DO NOT explain conceptual GPU power-domain behaviour (Chapter 3).
% - DO NOT mention Tycho's GPU-specific approach.

%--------------------------------------------------------------------
\subsection{Software-Exposed Resource Metrics}
\label{subsec:software_metrics}

% This merged section replaces three previous subsections.

% Placeholder (1 page):
% - Summarise kernel-exposed CPU time accounting, I/O statistics, network counters.
% - Mention missing or unusable telemetry for NICs, storage, PCIe.
% - Describe how literature treats model-based estimation (regression, AI models).
% - Emphasise limitations such as missing domains and poor applicability.
% - DO NOT explain conceptual interpretation of resource counters 
%   (reserved for Chapter 3).
% - DO NOT mix with attribution philosophies.

%====================================================================
\section{Temporal Behaviour of Telemetry Sources}
\label{sec:temporal_behaviour}
A comprehensive treatment can be found in \appchapterref{A}{vt2_Chapter2}, but the following discussion focuses on the aspects relevant for the present thesis.

% This section synthesises multi-source timing behaviour based on empirical research.
% It must NOT introduce conceptual timing theory (Chapter 3).

%--------------------------------------------------------------------
\subsection{Sampling Characteristics and Update Cycles}
\label{subsec:temporal_sampling}

% Placeholder (0.5–0.7 page):
% - Describe research findings on RAPL, NVML, Redfish update intervals.
% - Include empirical observations of nondeterministic refresh times.
% - DO NOT explain sampling vs event-time (Chapter 3).
% - DO NOT introduce timing models.

%--------------------------------------------------------------------
\subsection{Sensor-Internal Averaging and Missing Timestamps}
\label{subsec:averaging_timestamps}

% Placeholder (0.5 page):
% - Summarise research showing lack of timestamps in RAPL and NVML.
% - Mention internal sensor averaging reported in literature.
% - DO NOT describe conceptual implications for attribution (Chapter 3).

%--------------------------------------------------------------------
\subsection{Domain Boundary Ambiguity}
\label{subsec:domain_ambiguity}

% Placeholder (0.5 page):
% - Summarise research showing uncertain boundaries of RAPL domains.
% - Mention MIG-related ambiguity for GPU domains.
% - DO NOT explain conceptual importance of domains (Chapter 3).

%--------------------------------------------------------------------
\subsection{Validation Methodologies in Prior Research}
\label{subsec:validation_methods}

% Placeholder (0.5 page):
% - Summarise how prior studies validated measurements (meters, cross-domain comparison).
% - Discuss known limitations.
% - DO NOT discuss how validation will be performed in this thesis.
% - Keep strictly historical/literature-based.

%====================================================================
\section{Existing Tools and Related Work}
\label{sec:related_tools}
\appchapterref{A}{vt2_Chapter4}
% Expected length: 3–4 pages.
% DO NOT discuss Tycho or Tycho architecture.
% DO summarise empirical findings from prior work (Kepler, Kubewatt, others).

%--------------------------------------------------------------------
\subsection{General Tools (Brief Overview)}
\label{subsec:general_tools}

% Placeholder (0.3 page):
% - Briefly summarise Scaphandre, Smartwatts, and 1–2 other tools.
% - Emphasise their measurement scope and known limitations.
% - DO NOT provide conceptual attribution explanation (Chapter 3).
% - Keep this high-level and concise.

%--------------------------------------------------------------------
\subsection{Kepler}
\label{subsec:kepler}

% Placeholder (1.5–2.0 pages):
% - Describe Kepler’s architecture based purely on literature:
%   * metric sources
%   * ratio-based attribution strategy
%   * sampling behaviour
% - Summarise empirical misattribution issues identified by research and VT2:
%   * idle power artefacts
%   * latency mismatch
%   * short-lived workload instability
%   * system-process handling issues
% - Emphasise Kepler's shift toward deployability (literature statements).
% - DO NOT mention Tycho, Tycho improvements, or motivation for Tycho.

%--------------------------------------------------------------------
\subsection{Kubewatt}
\label{subsec:kubewatt}

% Placeholder (1.0–1.5 pages):
% - Summarise Kubewatt’s findings validating Kepler:
%   * incorrect idle attribution
%   * metadata/race-condition problems
%   * visibility issues with completed pods
% - Summarise Kubewatt’s improvements:
%   * static vs dynamic separation
%   * simplified proportional models
% - Summarise Kubewatt’s limitations as reported in thesis:
%   * missing domains
%   * limited metric scope
%   * no calibration
% - DO NOT reference Tycho or compare to Tycho.

%====================================================================
\section{Research Gaps}
\label{sec:research_gaps}

% This section synthesises gaps identified throughout Chapter 2.
% ABSOLUTELY NO Tycho discussion.
% NO conceptual discussion (that belongs to Chapter 3).

%--------------------------------------------------------------------
\subsection{Gap 1: Temporal Misalignment}
\label{subsec:gap_temporal}

% Placeholder (0.5 page):
% - Integrate research showing misaligned update intervals and delays.
% - DO NOT discuss strategies for alignment (Chapter 3 or 4).

%--------------------------------------------------------------------
\subsection{Gap 2: Missing Timestamps and Averaging}
\label{subsec:gap_timestamps}

% Placeholder (0.3 page):
% - Summarise lack of timestamps and internal averaging as documented by research.

%--------------------------------------------------------------------
\subsection{Gap 3: Domain Boundary Ambiguity}
\label{subsec:gap_boundaries}

% Placeholder (0.3–0.5 page):
% - Integrate findings on poorly documented boundaries (RAPL, MIG).

%--------------------------------------------------------------------
\subsection{Gap 4: Metadata-Lifecycle Inconsistencies}
\label{subsec:gap_metadata}

% Placeholder (0.3–0.5 page):
% - Synthesise research showing cgroup/pod lifecycle inconsistencies.

%--------------------------------------------------------------------
\subsection{Gap 5: Idle Power Attribution Issues}
\label{subsec:gap_idle}

% Placeholder (0.3 page):
% - Highlight known issues in idle power handling.

%--------------------------------------------------------------------
\subsection{Gap 6: Limited Multi-Domain Integration}
\label{subsec:gap_multidomain}

% Placeholder (0.3 page):
% - Summarise research noting lack of integrated CPU–GPU–system attribution.

%--------------------------------------------------------------------
\subsection{Gap 7: Missing Calibration and Uncertainty Treatment}
\label{subsec:gap_calibration}

% Placeholder (0.3–0.5 page):
% - Summarise research calling for calibration or uncertainty-aware methods.

%====================================================================
\section{Summary}
\label{sec:background_summary}

% Placeholder (0.5 page):
% - Summarise fundamental insights: heterogeneous telemetry behaviour, 
%   incomplete domain coverage, lifecycle inconsistency, lack of calibration.
% - Prepare the reader for Chapter 3, stating explicitly that Chapter 3
%   provides the conceptual foundations needed to understand the design 
%   of an accuracy-oriented system (without yet describing Tycho).

